<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Focal Point Editor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #00AEEF;
            text-align: center;
            margin-bottom: 30px;
        }
        .dog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .dog-card {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fafafa;
        }
        .dog-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        .image-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 15px;
            border: 2px solid #ccc;
            overflow: hidden;
            border-radius: 8px;
            background: #f0f0f0;
        }
        .dog-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: crosshair;
        }
        .focal-point-dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff0000;
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10;
        }
        .coordinates {
            text-align: center;
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }
        .controls {
            text-align: center;
        }
        .btn {
            background: #00AEEF;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            font-size: 12px;
        }
        .btn:hover {
            background: #008FCC;
        }
        .btn-success {
            background: #39B54A;
        }
        .btn-danger {
            background: #E30613;
        }
        .global-controls {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #e8f4fd;
            border-radius: 8px;
        }
        .status {
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            text-align: center;
            display: none;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Visual Focal Point Editor</h1>
        <div class="info status" style="display: block;">
            <strong>Instructions:</strong> Click on any dog image where you want the focal point to be. The red dot shows the current focal point. Click "Apply All Changes" when done.
        </div>
        
        <div id="status" class="success status"></div>

        <div class="global-controls">
            <button class="btn btn-success" onclick="applyAllChanges()">Apply All Changes to Website</button>
            <button class="btn" onclick="resetAllToDefaults()">Reset All to Center</button>
            <button class="btn" onclick="loadCurrentSettings()">Load Current Settings</button>
        </div>

        <div class="dog-grid" id="dogGrid">
            <!-- Dogs will be populated here -->
        </div>
    </div>

    <script>
        // Dog data with image URLs from your project
        const dogs = [
            // Adoptable Dogs
            { id: 'alex_main', name: 'Alex (Adoptable)', url: 'https://i.ibb.co/k22L58w9/image.png' },
            { id: 'chandra_main', name: 'Chandra (Adoptable)', url: 'https://i.ibb.co/QjtH2HsP/image.png' },
            { id: 'daisy_main', name: 'Daisy (Adoptable)', url: 'https://i.ibb.co/TMNsf5kk/image.png' },
            { id: 'max_main', name: 'Max (Adoptable)', url: 'https://i.ibb.co/Q7RRynVj/image.png' },
            { id: 'ruth_main', name: 'Ruth (Adoptable)', url: 'https://i.ibb.co/bMsNVmkF/image.png' },
            { id: 'fifi_main', name: 'Fifi (Adoptable)', url: 'https://i.ibb.co/Lz38HPWX/image.png' },
            { id: 'foxy_main', name: 'Foxy (Adoptable)', url: 'https://i.ibb.co/VW5z60MY/image.png' },
            { id: 'hazel_main', name: 'Hazel (Adoptable)', url: 'https://i.ibb.co/sp4qDqNT/image.png' },
            
            // Forever Sanctuary Dogs
            { id: 'casper_main', name: 'Casper (Forever)', url: 'https://i.ibb.co/JjJg6Tr2/image.png' },
            { id: 'jerry_main', name: 'Jerry (Forever)', url: 'https://i.ibb.co/jZxRdkdW/image.png' },
            { id: 'jesse_main', name: 'Jesse (Forever)', url: 'https://i.ibb.co/bgnS7Xrw/image.png' },
            { id: 'simba_main', name: 'Simba (Forever)', url: 'https://i.ibb.co/fRTB5nK/image.png' },
            { id: 'ruby_main', name: 'Ruby (Forever)', url: 'https://i.ibb.co/pjgyd2Kr/image.png' },
            { id: 'pretty_main', name: 'Pretty (Forever)', url: 'https://i.ibb.co/4RQrkL6c/image.png' }
        ];

        let focalPoints = {};

        function loadCurrentSettings() {
            const stored = localStorage.getItem('gem-project-focal-points');
            if (stored) {
                focalPoints = JSON.parse(stored);
                updateAllDots();
                showStatus('Current settings loaded!', 'success');
            } else {
                showStatus('No saved settings found. Using defaults.', 'info');
            }
        }

        function showStatus(message, type = 'success') {
            const status = document.getElementById('status');
            status.className = `status ${type}`;
            status.textContent = message;
            status.style.display = 'block';
            setTimeout(() => status.style.display = 'none', 3000);
        }

        function createDogCard(dog) {
            const focalPoint = focalPoints[dog.id] || { x: 0.5, y: 0.5 };
            
            return `
                <div class="dog-card">
                    <div class="dog-name">${dog.name}</div>
                    <div class="image-container" onclick="setFocalPoint('${dog.id}', event)">
                        <img src="${dog.url}" alt="${dog.name}" class="dog-image" style="object-position: ${focalPoint.x * 100}% ${focalPoint.y * 100}%;">
                        <div class="focal-point-dot" style="left: ${focalPoint.x * 100}%; top: ${focalPoint.y * 100}%;"></div>
                    </div>
                    <div class="coordinates" id="coords-${dog.id}">
                        X: ${focalPoint.x.toFixed(2)}, Y: ${focalPoint.y.toFixed(2)}
                    </div>
                    <div class="controls">
                        <button class="btn" onclick="resetDogToCenter('${dog.id}')">Reset to Center</button>
                    </div>
                </div>
            `;
        }

        function setFocalPoint(dogId, event) {
            const container = event.currentTarget;
            const rect = container.getBoundingClientRect();
            const x = (event.clientX - rect.left) / rect.width;
            const y = (event.clientY - rect.top) / rect.height;
            
            // Clamp values between 0 and 1
            const clampedX = Math.max(0, Math.min(1, x));
            const clampedY = Math.max(0, Math.min(1, y));
            
            focalPoints[dogId] = { x: clampedX, y: clampedY };
            updateDogDisplay(dogId);
        }

        function updateDogDisplay(dogId) {
            const focalPoint = focalPoints[dogId];
            const container = document.querySelector(`[onclick*="${dogId}"]`);
            const image = container.querySelector('.dog-image');
            const dot = container.querySelector('.focal-point-dot');
            const coords = document.getElementById(`coords-${dogId}`);
            
            image.style.objectPosition = `${focalPoint.x * 100}% ${focalPoint.y * 100}%`;
            dot.style.left = `${focalPoint.x * 100}%`;
            dot.style.top = `${focalPoint.y * 100}%`;
            coords.textContent = `X: ${focalPoint.x.toFixed(2)}, Y: ${focalPoint.y.toFixed(2)}`;
        }

        function updateAllDots() {
            dogs.forEach(dog => {
                if (focalPoints[dog.id]) {
                    updateDogDisplay(dog.id);
                }
            });
        }

        function resetDogToCenter(dogId) {
            focalPoints[dogId] = { x: 0.5, y: 0.5 };
            updateDogDisplay(dogId);
        }

        function resetAllToDefaults() {
            dogs.forEach(dog => {
                focalPoints[dog.id] = { x: 0.5, y: 0.5 };
                updateDogDisplay(dog.id);
            });
            showStatus('All focal points reset to center!', 'info');
        }

        function applyAllChanges() {
            localStorage.setItem('gem-project-focal-points', JSON.stringify(focalPoints));
            showStatus('âœ… All focal points saved! Refresh your website to see changes.', 'success');
            console.log('Saved focal points:', focalPoints);
        }

        // Initialize the page
        function init() {
            const grid = document.getElementById('dogGrid');
            grid.innerHTML = dogs.map(createDogCard).join('');
            loadCurrentSettings();
        }

        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>